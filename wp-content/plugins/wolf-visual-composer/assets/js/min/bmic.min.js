var WVCBMIC=function(a){"use strict";return{processing:!1,init:function(){this.BMICForm()},BMICForm:function(){var b=this;a(".wvc-bmic-form").each(function(){a(this).on("submit",function(c){if(c.preventDefault(),!0===b.processing)return!1;b.processing=!0;var d,e=a(this),f=e.parents(".wvc-bmic-container"),g=e.find(".wvc-bmi-height").val(),h=e.find(".wvc-bmi-weight").val(),i=e.find(".wvc-bmi-age").val(),j=e.find(".wvc-bmi-sex").val(),k=e.find(".wvc-bmi-activity-factor").val(),l=f.find(".wvc-bmic-result"),m=f.find(".wvc-bmic-result-inner"),n=e.find(".wvc-bmic-submit"),o=n.text();return m.empty(),l.removeClass("wvc-bmic-error wvc-bmic-notification-show"),d={action:"wvc_ajax_bmic_form",height:g,weight:h,age:i,sex:j,activityFactor:k},""!==g&&""!==h&&""!==i&&""!==k?(e.addClass("wvc-bmic-loading"),n.html(WVCParams.l10n.BMICProcessingMessage),a.post(WVCParams.ajaxUrl,d,function(c){c?(c=a.parseJSON(c),"error"===c.result?(e.removeClass("wvc-bmic-loading"),l.addClass("wvc-bmic-error wvc-bmic-notification-show"),m.append(c.message),n.html(o),b.processing=!1):(e.removeClass("wvc-bmic-loading"),l.addClass("wvc-bmic-notification-show"),m.append(c.message),n.html(o),b.processing=!1)):(l.addClass("wvc-bmic-error wvc-bmic-notification-show"),m.append(WVCParams.l10n.unknownError),e.removeClass("wvc-bmic-loading"),n.html(o),b.processing=!1)})):(l.addClass("wvc-bmic-error wvc-bmic-notification-show"),m.append(WVCParams.l10n.emptyFields),n.html(o),b.processing=!1),!1})}),a(document).on("click",".wvc-bmic-result-close",function(b){b.preventDefault(),a(this).parent().removeClass("wvc-bmic-error wvc-bmic-notification-show")})}}}(jQuery);!function(a){"use strict";a(document).ready(function(){WVCBMIC.init()})}(jQuery);